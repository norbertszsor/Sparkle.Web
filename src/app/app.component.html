<div fxLayout="column" style="height: 100%">
  <mat-toolbar color="primary" fxFlex="7" class="nav-toolbar">
    <div fxLayout="row" fxLayoutAlign="space-between center" fxFlex="100">
      <div fxFlex="nogrow" fxLayout="row" fxLayoutAlign="center center">
        <span>Sparkle.Web</span>
        <img [src]="logoUrl" height="50px" width="50px" />
      </div>
      <button mat-raised-button (click)="drawer.toggle()" fxFlex="nogrow">
        About
      </button>
    </div>
  </mat-toolbar>
  <mat-drawer-container fxLayout="column" fxFlex="100" [hasBackdrop]="true">
    <mat-drawer #drawer mode="over"></mat-drawer>
    <mat-drawer-content fxLayout="column" fxFlex="100">
      <!-- Content for the rest of the page -->
      <div
        fxLayout="row"
        fxFlex="20%"
        fxLayoutAlign="center center"
        fxLayoutGap="20px"
        style="min-height: 200px; margin-left: 15%; margin-right: 15%"
      >
        <mat-form-field fxFlex="20%">
          <mat-label>Company</mat-label>
          <input
            matInput
            placeholder="Company"
            [value]="company?.name"
            disabled
          />
        </mat-form-field>
        <mat-form-field fxFlex="20%">
          <mat-label>Time stamp</mat-label>
          <mat-select [(ngModel)]="selectedTimeStamp" name="timeStampSelect">
            <mat-option *ngFor="let option of selectOptions" [value]="option">
              {{ option?.display }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field fxFlex class="autocomplete">
          <input
            type="text"
            matInput
            [matAutocomplete]="auto"
            placeholder="Search"
            [(ngModel)]="selectedMeterId"
          />
          <mat-autocomplete
            #auto="matAutocomplete"
            (optionSelected)="onOptionSelected($event)"
          >
            <!-- Add your autocomplete options here -->
            <mat-option
              *ngFor="let option of autocompleteOptions"
              [value]="option?.id"
            >
              {{ option?.name }}
            </mat-option>
          </mat-autocomplete>
          <button
            mat-raised-button
            color="primary"
            fxFlex="nogrow"
            style="height: 23px"
            (click)="onButtonClick($event)"
          >
            Generate
          </button>
        </mat-form-field>
        <div class="form-spinner">
          <mat-spinner *ngIf="isLoading" style="width: 45px; height: 45px"></mat-spinner>
        </div>
      </div>
      <div fxLayout="row" fxFlex="100" fxLayoutAlign="space-between start">
        <div fxFlex="40%">
          <cdk-virtual-scroll-viewport
            fxFlex
            appendOnly
            itemSize="5"
            class="scrollable-list"
          >
            <div
              *cdkVirtualFor="
                let item of scrollableList;
                let odd = odd;
                let even = even
              "
              [class.example-alternate]="odd"
            >
              {{ item }}
            </div>
          </cdk-virtual-scroll-viewport>
        </div>
        <div fxFlex="60%">
          <!-- Content for the second column -->
          <canvas
            fxFlex
            class="chart"
            baseChart
            [datasets]="chartData"
            [labels]="chartLabels"
            [options]="chartOptions"
            [legend]="chartLegend"
          >
          </canvas>
        </div>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>
  <mat-toolbar color="primary">
    <span style="font-size: 12px">
      &copy; 2023 Norbert Szmigieroâ„¢ all rights reserved.
    </span>
    <div
      fxLayout="row"
      fxFlex="nogrow"
      style="margin-left: auto"
      fxLayoutGap="30px"
    >
      <a mat-button href="https://github.com/norbertszsor" target="_blank">
        <mat-icon>error</mat-icon>
        GitHub
      </a>
      <a
        mat-button
        href="https://www.linkedin.com/in/norbertszmigiero/"
        target="_blank"
      >
        <mat-icon>linkedin</mat-icon>
        LinkedIn
      </a>
      <a mat-button href="mailto:norbertszmigiero@outlook.com">
        <mat-icon>email</mat-icon>
        Email
      </a>
    </div>
  </mat-toolbar>
</div>
